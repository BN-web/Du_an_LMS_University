{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/truongkhoa/FE/app/lophoc/page.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { Search, ChevronDown, Eye, UserCheck, UserPlus, X, Check, ChevronLeft, ChevronRight } from \"lucide-react\"\r\nimport { apiClient } from \"@/lib/api\"\r\n\r\nexport default function LopHocPage() {\r\n  const router = useRouter()\r\n\r\n  const [currentView, setCurrentView] = useState(\"list\")\r\n  const [classes, setClasses] = useState([])\r\n  const [loadingClasses, setLoadingClasses] = useState(true)\r\n  const [classesError, setClassesError] = useState(null)\r\n\r\n  const [selectedClass, setSelectedClass] = useState(null)\r\n  const [classDetail, setClassDetail] = useState(null)\r\n  const [students, setStudents] = useState([])\r\n  const [loadingDetail, setLoadingDetail] = useState(false)\r\n  const [detailError, setDetailError] = useState(null)\r\n\r\n  // Bộ lọc\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [selectedHocKyId, setSelectedHocKyId] = useState(\"\")\r\n  const [selectedKhoaId, setSelectedKhoaId] = useState(\"\")\r\n  const [selectedNganhId, setSelectedNganhId] = useState(\"\")\r\n  const [selectedMonId, setSelectedMonId] = useState(\"\")\r\n\r\n  const [hocKyOptions, setHocKyOptions] = useState([])\r\n  const [khoaOptions, setKhoaOptions] = useState([])\r\n  const [nganhOptions, setNganhOptions] = useState([])\r\n  const [monOptions, setMonOptions] = useState([])\r\n  const [loadingOptions, setLoadingOptions] = useState(false)\r\n  const [optionsError, setOptionsError] = useState(null)\r\n\r\n  // State cho phân công / đổi giảng viên\r\n  const [showPhanCongModal, setShowPhanCongModal] = useState(false)\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false)\r\n  const [phanCongClass, setPhanCongClass] = useState(null)\r\n  const [lecturerOptions, setLecturerOptions] = useState([])\r\n  const [loadingLecturers, setLoadingLecturers] = useState(false)\r\n  const [assignError, setAssignError] = useState(null)\r\n  const [selectedGiangVienId, setSelectedGiangVienId] = useState(\"\")\r\n  const [selectedGiangVienName, setSelectedGiangVienName] = useState(\"\")\r\n\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n\r\n  // Load options cho bộ lọc\r\n  useEffect(() => {\r\n    const fetchOptions = async () => {\r\n      try {\r\n        setLoadingOptions(true)\r\n        setOptionsError(null)\r\n\r\n        const [khoaRes, nganhRes, monRes, hocKyRes] = await Promise.all([\r\n          apiClient.get(\"/api/truong-khoa/options/khoa\"),\r\n          apiClient.get(\"/api/truong-khoa/options/nganh\"),\r\n          apiClient.get(\"/api/truong-khoa/options/mon-hoc\"),\r\n          apiClient.get(\"/api/truong-khoa/options/hoc-ky\"),\r\n        ])\r\n\r\n        setKhoaOptions(Array.isArray(khoaRes) ? khoaRes : [])\r\n        setNganhOptions(Array.isArray(nganhRes) ? nganhRes : [])\r\n        setMonOptions(Array.isArray(monRes) ? monRes : [])\r\n        setHocKyOptions(Array.isArray(hocKyRes) ? hocKyRes : [])\r\n      } catch (error) {\r\n        setOptionsError(error instanceof Error ? error.message : \"Không thể tải dữ liệu bộ lọc\")\r\n      } finally {\r\n        setLoadingOptions(false)\r\n      }\r\n    }\r\n\r\n    fetchOptions()\r\n  }, [])\r\n\r\n  // Khi chọn khoa -> load lại ngành tương ứng\r\n  useEffect(() => {\r\n    const fetchNganh = async () => {\r\n      try {\r\n        if (!selectedKhoaId) {\r\n          const data = await apiClient.get(\"/api/truong-khoa/options/nganh\")\r\n          setNganhOptions(Array.isArray(data) ? data : [])\r\n          return\r\n        }\r\n        const data = await apiClient.get(`/api/truong-khoa/options/nganh?khoaId=${selectedKhoaId}`)\r\n        setNganhOptions(Array.isArray(data) ? data : [])\r\n      } catch {\r\n        // giữ nguyên danh sách cũ nếu lỗi\r\n      }\r\n    }\r\n\r\n    fetchNganh()\r\n    setSelectedNganhId(\"\")\r\n  }, [selectedKhoaId])\r\n\r\n  // Load danh sách lớp học theo bộ lọc từ API Trưởng khoa\r\n  useEffect(() => {\r\n    const fetchClasses = async () => {\r\n      try {\r\n        setLoadingClasses(true)\r\n        setClassesError(null)\r\n\r\n        const params = new URLSearchParams()\r\n        if (searchTerm.trim()) params.append(\"Q\", searchTerm.trim())\r\n        if (selectedKhoaId) params.append(\"KhoaId\", selectedKhoaId)\r\n        if (selectedNganhId) params.append(\"NganhId\", selectedNganhId)\r\n        if (selectedMonId) params.append(\"MonHocId\", selectedMonId)\r\n        // selectedHocKyId hiện chưa được backend hỗ trợ filter, nên chỉ dùng cho hiển thị\r\n\r\n        const qs = params.toString()\r\n        const url = `/api/truong-khoa/lop-hoc${qs ? `?${qs}` : \"\"}`\r\n        const data = await apiClient.get(url)\r\n        setClasses(Array.isArray(data) ? data : [])\r\n      } catch (error) {\r\n        setClassesError(error instanceof Error ? error.message : \"Không thể tải danh sách lớp học\")\r\n        setClasses([])\r\n      } finally {\r\n        setLoadingClasses(false)\r\n      }\r\n    }\r\n\r\n    fetchClasses()\r\n  }, [searchTerm, selectedKhoaId, selectedNganhId, selectedMonId])\r\n\r\n  const loadLecturersIfNeeded = async () => {\r\n    if (lecturerOptions.length > 0) return\r\n    try {\r\n      setLoadingLecturers(true)\r\n      setAssignError(null)\r\n      const data = await apiClient.get(\"/api/truong-khoa/options/giang-vien\")\r\n      setLecturerOptions(Array.isArray(data) ? data : [])\r\n    } catch (error) {\r\n      setAssignError(error instanceof Error ? error.message : \"Không thể tải danh sách giảng viên\")\r\n    } finally {\r\n      setLoadingLecturers(false)\r\n    }\r\n  }\r\n\r\n  const openAssignModal = async (classItem) => {\r\n    setPhanCongClass(classItem)\r\n    setSelectedGiangVienId(\"\")\r\n    setAssignError(null)\r\n    await loadLecturersIfNeeded()\r\n    setShowPhanCongModal(true)\r\n  }\r\n\r\n  const handleViewDetail = async (classItem) => {\r\n    setSelectedClass(classItem)\r\n    setCurrentView(\"detail\")\r\n    setLoadingDetail(true)\r\n    setDetailError(null)\r\n\r\n    try {\r\n      const [detail, svList] = await Promise.all([\r\n        apiClient.get(`/api/truong-khoa/lop-hoc/${classItem.id}`),\r\n        apiClient.get(`/api/truong-khoa/lop-hoc/${classItem.id}/sinh-vien`),\r\n      ])\r\n\r\n      setClassDetail(detail)\r\n      setStudents(svList || [])\r\n    } catch (error) {\r\n      setDetailError(error instanceof Error ? error.message : \"Không thể tải chi tiết lớp học\")\r\n      setStudents([])\r\n    } finally {\r\n      setLoadingDetail(false)\r\n    }\r\n  }\r\n\r\n  const handlePhanCong = (classItem) => {\r\n    setPhanCongClass(classItem)\r\n\r\n    if (classItem?.giangVien) {\r\n      // Lớp đã được phân công trước đó\r\n      setSelectedGiangVienName(classItem.giangVien)\r\n      setShowSuccessModal(true)\r\n    } else {\r\n      // Lớp chưa có giảng viên\r\n      openAssignModal(classItem)\r\n    }\r\n  }\r\n\r\n  const handleSavePhanCong = async () => {\r\n    if (!phanCongClass || !selectedGiangVienId) return\r\n\r\n    try {\r\n      setAssignError(null)\r\n      setLoadingLecturers(true)\r\n\r\n      await apiClient.post(`/api/truong-khoa/lop-hoc/${phanCongClass.id}/assign-giang-vien`, {\r\n        giangVienId: Number(selectedGiangVienId),\r\n        overrideConflicts: false,\r\n        overrideReason: null,\r\n        actorNguoiDungId: null,\r\n      })\r\n\r\n      const selectedOption =\r\n        lecturerOptions.find((x) => x.id === Number(selectedGiangVienId)) || null\r\n      const newName = selectedOption?.label || selectedGiangVienName\r\n\r\n      setSelectedGiangVienName(newName)\r\n\r\n      // Cập nhật lại danh sách lớp để hiển thị giảng viên mới\r\n      setClasses((prev) =>\r\n        prev.map((c) => (c.id === phanCongClass.id ? { ...c, giangVien: newName } : c)),\r\n      )\r\n\r\n      setShowPhanCongModal(false)\r\n      setShowSuccessModal(true)\r\n    } catch (error) {\r\n      setAssignError(error instanceof Error ? error.message : \"Không thể phân công giảng viên\")\r\n    } finally {\r\n      setLoadingLecturers(false)\r\n    }\r\n  }\r\n\r\n  const handleOpenChangeInstructor = () => {\r\n    if (!phanCongClass) return\r\n    setShowSuccessModal(false)\r\n    openAssignModal(phanCongClass)\r\n  }\r\n\r\n  const handleBack = () => {\r\n    setCurrentView(\"list\")\r\n    setSelectedClass(null)\r\n    setClassDetail(null)\r\n    setStudents([])\r\n  }\r\n\r\n  const renderStudentStatus = (tongDiem) => {\r\n    if (tongDiem == null)\r\n      return { label: \"Chưa có điểm\", className: \"bg-gray-100 text-gray-600 border border-gray-300\" }\r\n    if (tongDiem >= 8)\r\n      return { label: \"Đang học tốt\", className: \"bg-green-100 text-green-600 border border-green-300\" }\r\n    if (tongDiem >= 5)\r\n      return { label: \"Cảnh báo\", className: \"bg-yellow-100 text-yellow-600 border border-yellow-300\" }\r\n    return { label: \"Nguy cơ trượt\", className: \"bg-red-100 text-red-600 border border-red-300\" }\r\n  }\r\n\r\n  // Chi tiết lớp học\r\n  if (currentView === \"detail\" && selectedClass) {\r\n    const detail = classDetail || selectedClass\r\n\r\n    return (\r\n      <main className=\"flex-1 p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h1 className=\"text-[#4A90D9] text-2xl font-bold\">Quản lý lớp học</h1>\r\n          <button\r\n            onClick={handleBack}\r\n            className=\"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\r\n          >\r\n            Quay lại danh sách\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl p-6 shadow-sm mb-6\">\r\n          {loadingDetail ? (\r\n            <p className=\"text-sm text-gray-500\">Đang tải chi tiết lớp học...</p>\r\n          ) : detailError ? (\r\n            <p className=\"text-sm text-red-500\">{detailError}</p>\r\n          ) : (\r\n            <div className=\"grid grid-cols-5 gap-6\">\r\n              <div>\r\n                <p className=\"text-gray-500 text-sm mb-1\">Tên lớp</p>\r\n                <p className=\"text-gray-800 font-medium\">{detail?.tenLop ?? detail?.mon ?? \"—\"}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-500 text-sm mb-1\">Giảng viên phụ trách</p>\r\n                <p className=\"text-gray-800 font-medium\">{detail?.giangVien || \"Chưa phân công\"}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-500 text-sm mb-1\">Mã lớp</p>\r\n                <p className=\"text-gray-800 font-medium\">{detail?.maLop}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-500 text-sm mb-1\">Số lượng sinh viên</p>\r\n                <p className=\"text-gray-800 font-medium\">\r\n                  {detail?.totalStudents != null ? detail.totalStudents : students.length || \"—\"}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-500 text-sm mb-1\">Học kì</p>\r\n                <p className=\"text-gray-800 font-medium\">{detail?.hocKy || \"—\"}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl p-6 shadow-sm\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-gray-800 font-semibold text-lg\">Danh sách sinh viên</h2>\r\n            <div className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700\">\r\n              Lịch: Chưa kết nối\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"relative w-[300px]\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Tìm kiếm sinh viên...\"\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-[#4A90D9]\"\r\n              />\r\n            </div>\r\n            <div className=\"relative\">\r\n              <select className=\"appearance-none px-4 py-2 pr-10 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none\">\r\n                <option>Tất cả ngành</option>\r\n              </select>\r\n              <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\" />\r\n            </div>\r\n          </div>\r\n\r\n          {loadingDetail ? (\r\n            <p className=\"text-sm text-gray-500\">Đang tải danh sách sinh viên...</p>\r\n          ) : detailError ? (\r\n            <p className=\"text-sm text-red-500\">{detailError}</p>\r\n          ) : (\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b border-gray-200\">\r\n                  <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-500\">MSSV</th>\r\n                  <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-500\">Họ tên</th>\r\n                  <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-500\">Khóa</th>\r\n                  <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-500\">Ngành</th>\r\n                  <th className=\"text-center py-3 px-4 text-sm font-medium text-gray-500\">Tổng điểm</th>\r\n                  <th className=\"text-center py-3 px-4 text-sm font-medium text-gray-500\">Trạng thái</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {students.map((sv, idx) => {\r\n                  const status = renderStudentStatus(sv.tongDiem)\r\n                  return (\r\n                    <tr key={idx} className=\"border-b border-gray-100\">\r\n                      <td className=\"py-3 px-4 text-sm text-gray-700\">{sv.mssv}</td>\r\n                      <td className=\"py-3 px-4 text-sm text-gray-700\">{sv.hoTen}</td>\r\n                      <td className=\"py-3 px-4 text-sm text-gray-700\">—</td>\r\n                      <td className=\"py-3 px-4 text-sm text-gray-700\">{sv.nganh}</td>\r\n                      <td className=\"py-3 px-4 text-sm text-center\">\r\n                        <span\r\n                          className={\r\n                            sv.tongDiem >= 8\r\n                              ? \"text-green-500\"\r\n                              : sv.tongDiem >= 5\r\n                                ? \"text-yellow-500\"\r\n                                : sv.tongDiem != null\r\n                                  ? \"text-red-500\"\r\n                                  : \"text-gray-400\"\r\n                          }\r\n                        >\r\n                          {sv.tongDiem != null ? sv.tongDiem : \"-\"}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-center\">\r\n                        <span className={`px-3 py-1 rounded text-xs font-medium ${status.className}`}>\r\n                          {status.label}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n                {students.length === 0 && (\r\n                  <tr>\r\n                    <td colSpan={6} className=\"py-4 text-center text-sm text-gray-500\">\r\n                      Chưa có sinh viên trong lớp này.\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      </main>\r\n    )\r\n  }\r\n\r\n  // Danh sách lớp học\r\n  return (\r\n    <main className=\"flex-1 p-6\">\r\n      <h1 className=\"text-[#4A90D9] text-2xl font-bold mb-6\">Quản lý lớp học</h1>\r\n\r\n      <div className=\"bg-white rounded-xl p-4 shadow-sm mb-6\">\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* Khóa (hiển thị từ options/hoc-ky, hiện chưa filter backend) */}\r\n          <div className=\"relative flex-1 max-w-[180px]\">\r\n            <select\r\n              value={selectedHocKyId}\r\n              onChange={(e) => setSelectedHocKyId(e.target.value)}\r\n              className=\"w-full appearance-none px-4 py-2.5 pr-10 bg-[#4A5568] text-white rounded-lg text-sm\"\r\n            >\r\n              <option value=\"\">Tất cả khóa</option>\r\n              {hocKyOptions.map((hk) => (\r\n                <option key={hk.id} value={hk.id}>\r\n                  {hk.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white pointer-events-none\" />\r\n          </div>\r\n\r\n          {/* Khoa */}\r\n          <div className=\"relative flex-1 max-w-[180px]\">\r\n            <select\r\n              value={selectedKhoaId}\r\n              onChange={(e) => setSelectedKhoaId(e.target.value)}\r\n              className=\"w-full appearance-none px-4 py-2.5 pr-10 bg-[#4A5568] text-white rounded-lg text-sm\"\r\n            >\r\n              <option value=\"\">Tất cả khoa</option>\r\n              {khoaOptions.map((khoa) => (\r\n                <option key={khoa.id} value={khoa.id}>\r\n                  {khoa.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white pointer-events-none\" />\r\n          </div>\r\n\r\n          {/* Ngành */}\r\n          <div className=\"relative flex-1 max-w-[180px]\">\r\n            <select\r\n              value={selectedNganhId}\r\n              onChange={(e) => setSelectedNganhId(e.target.value)}\r\n              className=\"w-full appearance-none px-4 py-2.5 pr-10 border border-gray-200 rounded-lg text-sm bg-white\"\r\n            >\r\n              <option value=\"\">Tất cả ngành</option>\r\n              {nganhOptions.map((nganh) => (\r\n                <option key={nganh.id} value={nganh.id}>\r\n                  {nganh.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\" />\r\n          </div>\r\n\r\n          {/* Môn học */}\r\n          <div className=\"relative flex-1 max-w-[180px]\">\r\n            <select\r\n              value={selectedMonId}\r\n              onChange={(e) => setSelectedMonId(e.target.value)}\r\n              className=\"w-full appearance-none px-4 py-2.5 pr-10 bg-[#4A5568] text-white rounded-lg text-sm\"\r\n            >\r\n              <option value=\"\">Tất cả môn</option>\r\n              {monOptions.map((mon) => (\r\n                <option key={mon.id} value={mon.id}>\r\n                  {mon.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white pointer-events-none\" />\r\n          </div>\r\n\r\n          {/* Tìm kiếm */}\r\n          <div className=\"relative flex-1\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => {\r\n                setSearchTerm(e.target.value)\r\n                setCurrentPage(1)\r\n              }}\r\n              placeholder=\"Tìm kiếm lớp học...\"\r\n              className=\"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n        {optionsError && (\r\n          <p className=\"mt-2 text-xs text-red-500\">{optionsError}</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-xl p-6 shadow-sm\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h2 className=\"text-gray-800 font-semibold text-lg\">Danh sách lớp học</h2>\r\n          {loadingClasses && <p className=\"text-sm text-gray-500\">Đang tải...</p>}\r\n          {!loadingClasses && classesError && <p className=\"text-sm text-red-500\">{classesError}</p>}\r\n        </div>\r\n\r\n        <table className=\"w-full\">\r\n          <thead>\r\n            <tr className=\"border-b border-gray-200\">\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Mã lớp</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Tên lớp</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Môn</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Khoa</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Ngành</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Giảng viên</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Sinh viên</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Trạng thái</th>\r\n              <th className=\"text-left py-3 px-2 text-sm font-medium text-gray-500\">Thao tác</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {classes.map((item) => (\r\n              <tr key={item.id} className=\"border-b border-gray-100\">\r\n                <td className=\"py-3 px-2 text-sm text-gray-700\">{item.maLop}</td>\r\n                <td className=\"py-3 px-2 text-sm text-gray-700\">{item.tenLop}</td>\r\n                <td className=\"py-3 px-2 text-sm text-gray-700\">{item.mon}</td>\r\n                <td className=\"py-3 px-2 text-sm text-gray-700\">{item.khoaId}</td>\r\n                <td className=\"py-3 px-2 text-sm text-gray-700\">{item.nganhId}</td>\r\n                <td className=\"py-3 px-2 text-sm text-gray-700\">{item.giangVien || \"Chưa phân công\"}</td>\r\n                <td className=\"py-3 px-2 text-sm text-gray-700\">{item.sinhVien ?? \"-\"}</td>\r\n                <td className=\"py-3 px-2\">\r\n                  <span\r\n                    className={`px-2 py-1 rounded text-xs font-medium border ${\r\n                      item.trangThai === 1 ? \"text-green-600 border-green-400\" : \"text-red-600 border-red-400\"\r\n                    }`}\r\n                  >\r\n                    {item.trangThai === 1 ? \"Đang hoạt động\" : \"Ngừng hoạt động\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"py-3 px-2\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      onClick={() => handlePhanCong(item)}\r\n                      className=\"text-gray-500 hover:text-[#4A90D9]\"\r\n                      title={item.giangVien ? \"Lớp này đã được phân công\" : \"Phân công giảng viên\"}\r\n                    >\r\n                      {item.giangVien ? (\r\n                        <UserCheck className=\"w-5 h-5\" />\r\n                      ) : (\r\n                        <UserPlus className=\"w-5 h-5\" />\r\n                      )}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleViewDetail(item)}\r\n                      className=\"text-gray-500 hover:text-[#4A90D9]\"\r\n                      title=\"Xem chi tiết lớp\"\r\n                    >\r\n                      <Eye className=\"w-5 h-5\" />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n            {!loadingClasses && !classesError && classes.length === 0 && (\r\n              <tr>\r\n                <td colSpan={9} className=\"py-4 text-center text-sm text-gray-500\">\r\n                  Không có lớp học nào.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n\r\n        <div className=\"flex items-center justify-end gap-2 mt-4\">\r\n          <button className=\"p-2 text-gray-400\">\r\n            <ChevronLeft className=\"w-4 h-4\" />\r\n          </button>\r\n          <button className=\"w-8 h-8 bg-[#4A90D9] text-white rounded text-sm\">1</button>\r\n          <button className=\"w-8 h-8 text-gray-600 text-sm\">2</button>\r\n          <button className=\"w-8 h-8 text-gray-600 text-sm\">3</button>\r\n          <button className=\"w-8 h-8 text-gray-600 text-sm\">4</button>\r\n          <span className=\"text-gray-400\">...</span>\r\n          <button className=\"w-8 h-8 text-gray-600 text-sm\">40</button>\r\n          <button className=\"p-2 text-gray-400\">\r\n            <ChevronRight className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal Phân công giảng viên */}\r\n      {showPhanCongModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[450px]\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold\">Phân công giảng viên</h3>\r\n              <button onClick={() => setShowPhanCongModal(false)}>\r\n                <X className=\"w-5 h-5 text-gray-400\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"text-sm text-gray-500 mb-4\">\r\n              Chọn giảng viên phụ trách cho lớp {phanCongClass?.mon ?? phanCongClass?.tenLop}\r\n            </p>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Giảng viên</label>\r\n              <select\r\n                value={selectedGiangVienId}\r\n                onChange={(e) => setSelectedGiangVienId(e.target.value)}\r\n                className=\"w-full px-4 py-2.5 border border-gray-200 rounded-lg text-sm bg-gray-100\"\r\n              >\r\n                <option value=\"\">-- Chọn giảng viên --</option>\r\n                {lecturerOptions.map((gv) => (\r\n                  <option key={gv.id} value={gv.id}>\r\n                    {gv.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            {assignError && (\r\n              <p className=\"text-sm text-red-500 mb-2\">{assignError}</p>\r\n            )}\r\n            <div className=\"bg-blue-50 p-4 rounded-lg mb-6\">\r\n              <p className=\"text-sm text-gray-700\">Lịch dạy: Thứ 2, 7:00-11:30</p>\r\n              <p className=\"text-sm text-gray-700\">Phòng: P.A01</p>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3\">\r\n              <button\r\n                onClick={() => setShowPhanCongModal(false)}\r\n                className=\"px-6 py-2 border border-gray-300 rounded-lg text-sm\"\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                onClick={handleSavePhanCong}\r\n                disabled={loadingLecturers || !selectedGiangVienId}\r\n                className=\"px-6 py-2 bg-[#1E293B] text-white rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {loadingLecturers ? \"Đang lưu...\" : \"Lưu\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal Success */}\r\n      {showSuccessModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-[#1E293B] rounded-xl p-6 w-[450px] text-white\">\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <div className=\"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\">\r\n                <Check className=\"w-4 h-4\" />\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold\">Lớp này đã được phân công</h3>\r\n            </div>\r\n            <p className=\"text-gray-300 text-sm mb-6\">\r\n              Lớp học này đã được phân công cho giảng viên{\" \"}\r\n              {selectedGiangVienName || phanCongClass?.giangVien}.\r\n            </p>\r\n            <div className=\"flex justify-between\">\r\n              <button\r\n                onClick={handleOpenChangeInstructor}\r\n                className=\"px-6 py-2 bg-[#F5A623] text-white rounded-lg text-sm font-medium\"\r\n              >\r\n                Đổi giảng viên\r\n              </button>\r\n              <button\r\n                onClick={() => setShowSuccessModal(false)}\r\n                className=\"px-6 py-2 bg-[#4A90D9] text-white rounded-lg text-sm font-medium\"\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}